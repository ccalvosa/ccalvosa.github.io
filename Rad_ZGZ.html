<html>
<head>


<title>Radar Zaragoza AEMET</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="refresh" content="600">
<link rel="shortcut icon" href="v.ico">
<style type="text/css">
a, .hora {text-decoration: none; font-size: 16px; color: Black; font-family: arial; font-weight: bolder; line-height: 9px}
.td a {display:block; width:100%; height:25px}
.abajo {display: none;}
</style>


<SCRIPT LANGUAGE="JavaScript"> 
//VARIABLES

var act = 1
var i=1
var t=1
var ts=1
var pulsado=0
var pulsadosat=0
var Fecha=new Date()
var tiempoact=Fecha.getTime()
var zulu=Fecha.getTimezoneOffset()
var selec=0
var fijado=1
var fijadosat=1
var cantidad=0
var porcentaje=0
var cantidadsat=0
var running=false
var porcentajesat=0

//ARRAYS

anterior=new Array()
anteriorsat=new Array()
enlace=new Array()
enlacesat=new Array()

fecharadar=new Array()
fecharadarlocal=new Array()
minutrad=new Array()
horarad=new Array()
horaradlocal=new Array()
diarad=new Array()
mesrad=new Array()
añorad=new Array()
minutradesp=new Array()
fechasat=new Array()
minut=new Array()

fechasat=new Array()
minutsat=new Array()
horasat=new Array()
diasat=new Array()
messat=new Array()
añosat=new Array()
mapaid= new Array("ma")

//CALCULO DE FECHAS

//RADAR


for (i=1;i<=24;i++){
	tiempo=tiempoact-(10*60*1000*i)+(zulu*60*1000)
	tiempolocal=tiempoact-(10*60*1000*i)
	fecharadar[i]=new Date(tiempo)
	fecharadarlocal[i]=new Date(tiempolocal)
	minutrad[i]= fecharadar[i].getMinutes()
	minutrad[i]=parseInt(minutrad[i]/10)*10 //redondea los minutos a decimas
	if (minutrad[i]==0){
		minutrad[i]='00'
	}
	horarad[i]=fecharadar[i].getHours()
	if (horarad[i]<10){
		horarad[i]='0'+horarad[i]
	}
	horaradlocal[i]=fecharadarlocal[i].getHours()
	diarad[i]=fecharadar[i].getDate()
	if (diarad[i]<10){
		diarad[i]='0'+diarad[i]
	}
	mesrad[i]=fecharadar[i].getMonth()+1
	if (mesrad[i]<10){
		mesrad[i]='0'+mesrad[i]
	}
	añorad[i]=fecharadar[i].getFullYear()
}



//CARGA DE IMAGENES INICIAL
//RADAR
for (i=1;i<=24;i++){	
	anterior[i]=new Image(600,600);	
	enlace[i]='http://www.aemet.es/imagenes_d/eltiempo/observacion/radar/' + añorad[i] + mesrad[i] + diarad[i] + horarad[i] + minutrad[i] + '_r8za.gif'; 
	anterior[i].src = enlace[i];
}



//COMIENZAN LAS FUNCIONES



//FUNCIONES DE CAMBIO DE HORA

function cambia()
{
	 sel=document.form1.nombre1.value;
         colorfondo(sel)
	 cambia2(sel)
}

function cambia2(sel)
{    	
	var h=document.form3.radares.value
	document.getElementById("radarimg").width=600;document.getElementById("radarimg").height=600
	if (h==15){document.getElementById("radarimg").width=600;document.getElementById("radarimg").height=600}
	document.getElementById("radarimg").src=anterior[sel].src;
	act=sel
	//document.form1.nombre1.value=sel
	cuadro(act)	
}


//FUNCIONES PRESENTACION HORA EN UN CUADRO DE TEXTO Y ESCRIBIR LAS HORAS EN PANTALLA (C.SELECCION Y DESLIZADOR)	

function cuadro(n) 
{	
	var horalocal = horaradlocal[n]
	if(horalocal<10){
		horalocal='0'+horalocal
	}
	if(horalocal==0){
		horalocal='00'
	} 
	if (document.form3.radares.value=="15"){minut[n]=minutradesp[n]}
	else {minut[n]=minutrad[n]}
	document.getElementById("hora").value= 'Radar: ' + horalocal + ':' + minut[n] 
}

function cuadrosat(n) 
{	
	var horalocal = horasat[n]
	document.getElementById("horasat").value= 'Satelite: ' + horalocal + ':' + minutsat[n] 
}

function escribe(n)
{ 
 	var horalocal=horaradlocal[n]
	if(horalocal<10){
		horalocal='0'+horalocal
		}
	if(horalocal==0){
		horalocal='00'
		} 
	document.write(horalocal + ':' + minutrad[n])
}	

function escribesat(n)
{
	var horalocal = horasat[n] 
	document.write(horalocal + ':' + minutsat[n])
}

//FUNCIONES CAMBIO DE COLOR DE FONDO EN DESLIZADOR

function colorfondo(numcelda)
{
	for (i=1;i<=24;i++){
		document.getElementById("celda"+i).style.background="#CCCCCC";
	}
	document.getElementById("celda"+numcelda).style.background="Yellow"
}

//FUNCIONES DE ANIMACION

var frames=25
function controlanimar(n)
{
	if(running){
		document.getElementById("celda25").style.background="#CCCCCC";
		running=false;
	}else{
		document.getElementById("celda25").style.background="GreenYellow";
		running=true;
		animar(n);
	}
}

function animar(n)
{
    if(running){
	var vel=200
	n=n-1
	t=setTimeout("animacion("+ n +")",vel)	
    }	
}
function animacion(x)
{
	if(x>0){cambia2(x);animar(x);cuadro(x);colorfondo(x)}
	if(x==0){cambia2(1);cuadro(x+1);x=frames;t=setTimeout("animar("+x+")",1500)}	
}

//FUNCIONES DEL DESLIZADOR

function deslizador(x){
	if (fijado==1){
		colorfondo(x)
		cambia2(x)
	}
}
</SCRIPT>
</head>

<body style="background-color: Black">

<div align=center>
<table width="900"height="600"cellpadding=0 cellspacing=0>
<tr>
<td width="150"height="600"align=center>
<table width="150"height="600"class="td"cellpadding=0 cellspacing=1>
<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="GreenYellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="http://www.lightningmaps.org/?lang=en#y=40.0672;x=-3.7475;z=6;t=4;m=normal;r=0;s=201;o=0;b=0.00;n=0;d=2;dl=2;dc=0;ra=1;"target=_Blank>
<br>Rayos T. Real</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Red"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="radar-rayos"target=panel>
<br>Radar/Rayos</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Red"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="rayoseu"target=panel>
<br>Rayos EU</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Red"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="rayos"target=panel>
<br>Rayos ES</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="LimeGreen"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="multi"target=panel>
<br>Radar/Sat</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="nacional"target=panel>
<br>Nacional</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="lacoruna"target=panel>
<br>La Coruña</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="asturias"target=panel>
<br>Asturias</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="vizcaya"target=panel>
<br>Vizcaya</a></td>
</tr>


<tr>
<td bgcolor="Yellow"align=center>
<a href="zaragoza"target=panel>
<br>Zaragoza</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="barcelona"target=panel>
<br>Barcelona</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="baleares"target=panel>
<br>Baleares</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="palencia"target=panel>
<br>Palencia</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="caceres"target=panel>
<br>Cáceres</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="madrid"target=panel>
<br>Madrid</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="valencia"target=panel>
<br>Valencia</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="murcia"target=panel>
<br>Murcia</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="sevilla"target=panel>
<br>Sevilla</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="malaga"target=panel>
<br>Málaga</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="almeria"target=panel>
<br>Almería</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="Yellow"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="laspalmas"target=panel>
<br>Las Palmas</a></td>
</tr>


<tr>
<td bgcolor="#CCCCCC"onmouseover='this.style.background="#CCCCCC"' onmouseout='this.style.background="#CCCCCC"'align=center>
<a href="http://www.ipma.pt/pt/otempo/obs.radar/"target=Blank>
<br>Portugal</a></td>
</tr>
</table>
</td>

<td bgcolor="Black"width="600"height="600"align="center">
<a href="http://www.aemet.es/es/eltiempo/observacion/radar?w=1&p=r8za"target=_blank>
<img id="radarimg" name="primera" src="" width="600"height="600" onError="noimagen()"
alt="Radar Zaragoza AEMET"title="Radar Zaragoza AEMET"></a></td>

<td width="150"height="600"align=center>
<table  id="selector" width="150"height="600"class="hora"cellpadding=0 cellspacing=1>
<tr>	
<td bgcolor="#CCCCCC"align="center"id="celda25"onclick="controlanimar(25);">Animación</td>
</tr>	

<tr>
<td bgcolor="#CCCCCC"align="center"id="celda24"onmouseover="deslizador(24);"><script>escribe(24)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda23"onmouseover="deslizador(23);"><script>escribe(23)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda22"onmouseover="deslizador(22);"><script>escribe(22)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda21"onmouseover="deslizador(21);"><script>escribe(21)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda20"onmouseover="deslizador(20);"><script>escribe(20)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda19"onmouseover="deslizador(19);"><script>escribe(19)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda18"onmouseover="deslizador(18);"><script>escribe(18)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda17"onmouseover="deslizador(17);"><script>escribe(17)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda16"onmouseover="deslizador(16);"><script>escribe(16)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda15"onmouseover="deslizador(15);"><script>escribe(15)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda14"onmouseover="deslizador(14);"><script>escribe(14)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda13"onmouseover="deslizador(13);"><script>escribe(13)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda12"onmouseover="deslizador(12);"><script>escribe(12)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda11"onmouseover="deslizador(11);"><script>escribe(11)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda10"onmouseover="deslizador(10);"><script>escribe(10)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda9"onmouseover="deslizador(9);"><script>escribe(9)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda8"onmouseover="deslizador(8);"><script>escribe(8)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda7"onmouseover="deslizador(7);"><script>escribe(7)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda6"onmouseover="deslizador(6);"><script>escribe(6)</script></td>
</tr>

<tr>
<td bgcolor="#CCCCCC"align="center"id="celda5"onmouseover="deslizador(5);"><script>escribe(5)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda4"onmouseover="deslizador(4);"><script>escribe(4)</script></td>
</tr>

<tr>		
<td bgcolor="#CCCCCC"align="center"id="celda3"onmouseover="deslizador(3);"><script>escribe(3)</script></td>
</tr>

<tr>
<td bgcolor="#CCCCCC"align="center"id="celda2"onmouseover="deslizador(2);"><script>escribe(2)</script></td>
</tr>

<tr>
<td align="center"id="celda1"bgcolor="Yellow" onmouseover="deslizador(1);"><script>escribe(1)</script></td>
</tr>
</table>
</td>
</tr>
</table>

	
<div class="abajo">
<input type="text" id="cuenta">
<input type="text" id="hora">	
<p align="center"><input type="text" id="cuentasat"></p>
<input type="text" id="horasat">

<form name="form3">
<select name="radares"onchange="radar(this.value)">
<option value=0 selected></option>
</select>
</form>

<script language=javascript>
	cuadro(1)
	cuadrosat(1)
	cambia2(1)
	cambia2sat(1)
	progreso()
	progresosat()
</script>
</div>


</body>
</html>